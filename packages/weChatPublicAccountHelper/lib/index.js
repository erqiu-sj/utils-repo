"use strict";function e(e,t,r,s){return new(r||(r=Promise))((function(o,a){function c(e){try{n(s.next(e))}catch(e){a(e)}}function i(e){try{n(s.throw(e))}catch(e){a(e)}}function n(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,i)}n((s=s.apply(e,t||[])).next())}))}class t{trigger(t){var r,s;return e(this,void 0,void 0,(function*(){if(void 0===(null===window||void 0===window?void 0:window.wx))return yield null===(r=t.getCallbacks("success"))||void 0===r?void 0:r(yield t.weChatDdkDoesNotInjectTriggerBehavior()),void(yield null===(s=t.getCallbacks("complete"))||void 0===s?void 0:s());yield t.weChatSdkJnjectionTriggerBehavior()}))}}class r extends class{constructor(){this.callbackMapper={}}collector(e,t){return t?(Reflect.set(this.callbackMapper,e,t),this):this}getCallbacks(e){return Reflect.get(this.callbackMapper,e)}getAllCallbacks(){return this.callbackMapper}}{constructor(){super(...arguments),this.call=""}readConfiguration(e){return this.configure=e,this}callName(e){this.call=e}getConfiguration(){return this.configure}fail(e){return this.collector("fail",e),this}success(e){return this.collector("success",e),this}complete(e){return this.collector("complete",e),this}cancel(e){return this.collector("cancel",e),this}trigger(e){return this.collector("trigger",e),this}done(){return e(this,void 0,void 0,(function*(){yield(new t).trigger(this)}))}weChatDdkDoesNotInjectTriggerBehavior(){return e(this,void 0,void 0,(function*(){}))}weChatSdkJnjectionTriggerBehavior(){return e(this,void 0,void 0,(function*(){const e=Object.assign(Object.assign({},this.getAllCallbacks()),this.getConfiguration());Reflect.get(window.wx,this.call)(e)}))}}let s={};exports.BasicConfiguration=class{constructor(e){s=e}getConfig(){return s}},exports.ChooseImage=class extends r{constructor(){super(),this.callName("chooseImage")}weChatDdkDoesNotInjectTriggerBehavior(){return e(this,void 0,void 0,(function*(){return{localIds:[]}}))}},exports.DownloadImage=class extends r{constructor(){super(),this.callName("downloadImage")}weChatDdkDoesNotInjectTriggerBehavior(){return e(this,void 0,void 0,(function*(){return{localId:1}}))}},exports.GetLocalImgData=class extends r{constructor(){super(),this.callName("getLocalImgData")}weChatDdkDoesNotInjectTriggerBehavior(){return e(this,void 0,void 0,(function*(){return{localData:(null==s?void 0:s.baseSrc)||""}}))}},exports.OnSearchBeacons=class extends r{constructor(){super(),this.callName("onSearchBeacons")}},exports.PreviewImage=class extends r{constructor(){super(),this.callName("previewImage")}},exports.StartSearchBeacons=class extends r{constructor(){super(),this.callName("startSearchBeacons")}},exports.StopSearchBeacons=class extends r{constructor(){super(),this.callName("stopSearchBeacons")}},exports.UpdateAppMessageShareData=class extends r{constructor(){super(),this.callName("updateAppMessageShareData")}},exports.UpdateTimelineShareDataConfig=class extends r{constructor(){super(),this.callName("updateTimelineShareData")}},exports.UploadImage=class extends r{constructor(){super(),this.callName("uploadImage")}weChatDdkDoesNotInjectTriggerBehavior(){return e(this,void 0,void 0,(function*(){return{serverId:1}}))}};
//# sourceMappingURL=index.js.map
